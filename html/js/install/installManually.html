<div layout="column" layout-fill>

    <!-- menu -->
    <md-toolbar flex="initial">
        <div class="md-toolbar-tools">
            <h2>
                <md-icon md-svg-icon="sd"></md-icon>
                Manual Cleep installation
            </h2>
            <span flex></span>
        </div>
    </md-toolbar>
    <md-progress-linear md-mode="determinate"></md-progress-linear>

    <md-content layout-padding>
        <md-card>
            <md-card-content>

                <!-- etcher -->
                <div layout="row" layout-align="space-between center" style="padding: 0 10px;">
                    <div>
                        <md-icon md-svg-icon="chevron-right"></md-icon>
                        <span>Download and install Etcher, free SD card burning tool, from official website</span>
                    </div>
                    <div layout="row">
                        <md-button class="md-raised md-primary" ng-href="https://etcher.io" target="_blank">Etcher.io</md-button>
                    </div>
                </div>

                <!-- iso -->
                <div layout="row" layout-align="space-between center" style="padding: 0 10px;">
                    <div>
                        <md-icon md-svg-icon="chevron-right"></md-icon>
                        <span>Select Cleep version you want to install on your SD card</span>
                    </div>
                    <div layout="row">
                        <md-input-container>
                            <label>Version</label>
                            <md-select ng-model="ctl.selectedIso" md-on-open="ctl.refreshIsos()" placeholder="Cleep version" class="md-no-underline" ng-disabled="ctl.flashing" required ng-model-options="{trackBy: '$value.id'}"> 
                                <md-option ng-if="ctl.__isos.cleepisos===0" ng-disabled="true">No Cleep version found</md-option>
                                <md-option ng-repeat="iso in ctl.isos | filter: {category:'cleep'}" ng-value="iso">
                                    {{iso.label}} ({{iso.timestamp | hrDate}})
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                </div>

                <!-- cleep download url -->
                <div layout="row" layout-align="space-between center" style="padding: 0 10px;">
                    <div>
                        <md-icon md-svg-icon="chevron-right"></md-icon>
                        <span>Download selected Cleep image file</span>
                    </div>
                    <div layout="row">
                        <span style="padding-top:15px;" class="md-caption" ng-if="ctl.selectedIso.url">{{ctl.selectedIso.url}}</span>
                        <md-button class="md-raised md-primary" ng-href="https://github.com/tangb/raspiot/releases/download/v0.0.12/cleep_0.0.12.zip" target="_blank" ng-disabled="ctl.selectedIso.url">Download</md-button>
                    </div>
                </div>

                <!-- flash tips -->
                <div layout="row" layout-align="space-between center" style="margin-top: 20px; padding: 0 10px;">
                    <div>
                        <md-icon md-svg-icon="chevron-right"></md-icon>
                        <span>Now launch and use etcher software to flash your SD card.</span>
                    </div>
                    <div layout="row">
                    </div>
                </div>
                
            </md-card-content>
        </md-card>
    </md-content>

</div>
